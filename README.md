# Дипломный проект направления «Тестировщик» (QA-14 Нетология)

[![master](https://github.com/aeontal/Diploma/actions/workflows/gradle.yml/badge.svg?branch=master)](https://github.com/aeontal/Diploma/actions/workflows/gradle.yml) **Задача:** автоматизация тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.

**Документация**
  * [Описание приложения](#описание-приложения)
  * [Задача](#задача)
  * [1.Планирование](#i-планирование)

## Описание приложения

### Бизнес-часть: 

Приложение представляет из себя веб-сервис.

![](doc/img/diploma-service.png)

Приложение предлагает купить тур по определённой цене с помощью двух способов:
1. Обычная оплата по дебетовой карте
1. Уникальная технология: выдача кредита по данным банковской карты

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:
* сервису платежей (Payment Gate)
* кредитному сервису (Credit Gate)

### Техническая часть

Заявлена поддержка двух СУБД:
* MySQL
* PostgreSQL

## Задача

Ключевая задача — автоматизировать сценарии (как позитивные, так и негативные) покупки тура.

Задача разложена на 4 этапа:
1. Планирование автоматизации тестирования
1. Непосредственно сама автоматизация
1. Подготовка отчётных документов по итогам автоматизированного тестирования
1. Подготовка отчётных документов по итогам автоматизации

## 1. Планирование

Тест-план представлен в [`файле`](doc/Plan.md).

## II. Автоматизация

* ### Предварительная подготовка к тестированию

   * Скачать проект в виде ZIP-файлом по [ссылке](https://github.com/aeontal/Diploma/archive/refs/heads/master.zip).
   * Распаковать полученный файл в требуемой директории.
   * Открыть проект в IntelliJ IDEA.
      ```
      File -> Open... -> Выделить папку, в которой лежит файл README.md -> OK
      ```
      
* ### Запуск тестов

   Необходим запуск докер-контейнера при помощи:
   ```  
   docker-compose up -d
   ```

 * #### Работа с SUT

      ```
      Запуск SUT (PostgreSQL):
      
      java -Dspring.datasource.url=jdbc:postgresql://localhost:5432/app -jar artifacts/aqa-shop.jar

      Запуск SUT(MySQL): 
	
      java -Dspring.datasource.url=jdbc:mysql://localhost:3306/app -jar artifacts/aqa-shop.jar
      ```
      Запуск тестов осуществить в новом окне терминала:
       
      ```
      Запуск тестов (PostgreSQL):
      
      gradlew test -Ddb.url=jdbc:postgresql://localhost:5432/app allureReport
      
      Запуск тестов (MySQL):
      
      gradlew test -Ddb.url=jdbc:mysql://localhost:3306/app allureReport 
      
      ```
   
* ### Остановка контейнеров

   Остановка контейнеров осуществляется при помощи:
   ```  
   docker-compose down
   ```
